<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="x-ua-compatible" content="ie=edge">

    <title>Jecstar - Enterprise Telemetry Monitor</title>

    <link rel="apple-touch-icon" sizes="180x180" href="images/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="images/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="images/favicon/favicon-16x16.png">
    <link rel="mask-icon" href="images/favicon/safari-pinned-tab.svg" color="#5bbad5">


    <link rel="stylesheet" href="styles/bootstrap.min.css">
    <link rel="stylesheet" href="styles/atlantis.min.css">
    <link rel="stylesheet" href="styles/fonts.min.css">
    <link rel="stylesheet" href="styles/font-awesome.min.css">
    <link rel="stylesheet" href="styles/jquery-ui.min.css">
    <link rel="stylesheet" href="styles/autocomplete.css">
    <link rel="stylesheet" href="styles/etm-commons.css">
</head>
<body>
<div class="wrapper">

    <div class="main-header">
        <!-- Logo Header -->
        <div class="logo-header" data-background-color="etm-navbar-color">
            <a href="https://www.jecstar.com" target="_blank" class="logo">
                <img src="./images/jecstar.svg" alt="navbar brand" class="navbar-brand h-75">
            </a>
            <button class="navbar-toggler sidenav-toggler ml-auto" type="button" data-toggle="collapse"
                    data-target="collapse" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon">
                    <i class="icon-menu"></i>
                </span>
            </button>
            <button class="topbar-toggler more"><i class="icon-options-vertical"></i></button>
            <div class="nav-toggle">
                <button class="btn btn-toggle toggle-sidebar">
                    <i class="icon-menu"></i>
                </button>
            </div>
        </div>
        <!-- End Logo Header -->

        <!-- Navbar Header -->
        <nav class="navbar navbar-header navbar-expand-lg" data-background-color="etm-navbar-color">
            <div class="container-fluid">
                <div id="search-nav"></div>
                <ul class="navbar-nav topbar-nav ml-md-auto align-items-center">
                    <li class="nav-item dropdown hidden-caret">
                        <a class="nav-link" data-toggle="dropdown" href="#" aria-expanded="false">
                            <i class="fa fa-user-ninja"></i>
                        </a>
                        <ul class="dropdown-menu dropdown-user animated fadeIn">
                            <div class="dropdown-user-scroll scrollbar-outer"></div>
                        </ul>
                    </li>
                </ul>
            </div>
        </nav>
        <!-- End Navbar -->
    </div>

    <div class="sidebar sidebar-style-2" data-background-color="etm-sidebar-color">
        <div class="sidebar-wrapper scrollbar scrollbar-inner">
            <div class="sidebar-content">
                <ul class="nav nav-primary">
                    <li id="placeholder-for-MenuAwareURLResource"></li>
                </ul>
            </div>
        </div>
    </div>
    <!-- End Sidebar -->

    <div class="main-panel">
        <div class="content">
            <div class="container-fluid" style="margin-top: 1em;">
                <div class="card">
                    <img class="card-img" src="images/jecstar.svg" alt="Jecstar Innovation Logo"
                         style="opacity: 0.1; filter: alpha(opacity=10); margin:0px auto; max-height: 40rem;">
                    <div class="card-img-overlay">
                        <h3 id="etm-header" class="card-title">Enterprise Telemetry Monitor</h3>
                        <div class="card-text">
                            <p>
                                Welcome at <a href="https://www.jecstar.com" target="_blank">Jecstar's</a>
                                Enterprise Telemetry Monitor! Enterprise Telemetry Monitor is a
                                highly scalable event processor. The goal of Enterprise Telemetry
                                Monitor is to gain near realtime insights in the information flows
                                inside and between your enterprise applications. It is generally
                                used to help organizations in monitoring their complex application
                                landscape.
                            </p>
                            <p>
                                Enterprise Telemetry Monitor is currently maintaining
                                <b id="event-count"></b> events for you. Depending on the
                                privileges the Enterprise Telemetry Monitor administrators have
                                given to you, you may search, inspect, correlate or monitor those
                                events. Go ahead and click on any of the menu items to get insight
                                into the data of your business.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script src="scripts/jquery.min.js"></script>
<script src="scripts/popper.min.js"></script>
<script src="scripts/bootstrap.min.js"></script>
<script src="scripts/jquery.scrollbar.min.js"></script>
<script src="scripts/jquery-ui.min.js"></script>
<script src="scripts/atlantis.min.js"></script>

<script src="scripts/etm-commons.js"></script>
<script>
	$.ajax({
	    type: 'GET',
	    contentType: 'application/json',
	    url: 'rest/user/etminfo',
	    cache: false,
	    success: function(data) {
	        if (!data) {
	            return;
	        }
	        $('#event-count').text(data.event_count_as_string);
	        if (data.etm_version) {
	        	$('#etm-header').text($('#etm-header').text() + ' - ' + data.etm_version);
	        }
	    }
	});

</script>

</body>
</html>