== Administrating {etm}
Apart from the <<Node configuration>> {etm} can be configured with a browser. At least one Node with the ''guiEnabled'' to ''true'' should be available. 

=== License registration
One of the first things you need to do as administrator is entering your license key. Without a proper license no events will be processed. When your license is expired or not entered you will be able to access all features of {etm}. The only part that is disabled is the processing of events.
To enter your license or view the state of your current license, open a browser and browse to http://localhost:8080/gui/settings/license.html (Of course your server name and port may be different). If you are already logged in to {etm} you can access the license page through the menu optiosn ''Settings -> License''.
Paste your license key in the input field and hit the ''Apply'' button. If you entered a valid license, the Owner and Expiration Date will become visible.

A correctly applied license looks something like this:

.{etm} license
image::images/etm-license.png["{etm} license",link="./images/etm-license.png"]

=== Users
To add, create or modify users browse to http://localhost:8080/gui/settings/users.html, or go to the menu option ''Settings -> Users''. The top drop-down bar allows you to select a user to modify, delete or copy. It is highly recommended to remove the default administrator user! At least change the password of the user.

Each user can have the following attributes:
.User attributes
[options="header"]
|=======================
|Name|Description
|Id|The unique ID of the user. This id is also used for logging in to the {etm} Gui.
|Name|The (full) name of the user. 
|Groups|The groups to apply to the user. This field will only be available if at least one group is created. See <<Groups>> for more information.
|Filter query|The filter query that needs to be applied to the user. See <<Filter query>> for more information.
|Locale|The locale of the user.
|Time zone|The time zone the user is in. Time based properties will be converted to the selected time zone.
|Search history size|The number of queries that need to be remembered.
|User roles|The roles the user has. See <<User roles>> for a detailed description.
|New password|The new password for the user. This field is mandatory when adding a new user.
|Retype password|Retype the new password in this field to make sure you didn't enter a typo in the New password field.
|======================= 

==== User roles
Each user can have one or more roles. Depending on the roles the user has, he or she can or can't access some parts of the {etm} Gui.

[horizontal]
Admin:: If checked the user can access all parts of {etm} without any restrictions.
Searcher:: With this role the user can search for events.
Controller:: When a user has the controller role he or she can access the dashboard.
Processor:: With this role the user can add events by posting to the rest processor. By default the rest processor hasn't any access restrictions so everybody can use it. If security is applied to the rest processor only users with the Processor role can use the rest processor.
Iib-admin:: With this role the user can manage the creation if IIB Monitoring Event from the Settings menu. See <<Integration with IBM MQ and/or IBM Integration Bus>> to enable this integration.

==== Filter query
Imagine you have stored a gazillion events in {etm}. Some of them might contain passwords or other sensitive data and you don't want this data to be visible to everyone with a Searcher role. This is were the Filter query is your best friend. When an Filter query is applied to a user (or group) it is attached to every query the user executes. For example, when we configure

[source]
----
endpoints.writing_endpoint_handler.application.name: "Enterprise Telemetry Monitor"
----

as a Filter query for user Bob, every time Bob enters a query the query will be extended with this filter query. If Bob searches for

[source]
----
name: BobsEventName
----

under the hood {etm} will query for:

[source]
----
name: BobsEventName AND endpoints.writing_endpoint_handler.application.name: "Enterprise Telemetry Monitor"
----

This way we can prevent Bob of seeing any events that are not generated by the application "Enterprise Telemetry Monitor". When combined with <<Groups>> a very flexible and powerful set of access rules can be generated.

=== Groups
To add, create or modify groups browse to http://localhost:8080/gui/settings/groups.html, or go to the menu option ''Settings -> Groups''. Groups are a convenient way of managing some user attributes that should be applied to several users. You can, for example, create an administration group that has the Administration role selected. When a user is added to that role the Administration role is also applied to that user.

When a user is added to multiple groups he has the roles and Filter queries of all groups combined.